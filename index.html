<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Oklahoma Royals HQ</title>
  <meta name="description" content="Royal + bright league hub." />

  <style>
    :root{
      --bg:#0A2452;
      --bg2:#081C42;

      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.74);

      --royal:#0B3D91;
      --royalGlow:#1E60FF;
      --gold:#f5c84b;

      --card: rgba(255,255,255,.10);
      --card2: rgba(255,255,255,.14);
      --line: rgba(255,255,255,.14);

      --shadow: 0 18px 44px rgba(0,0,0,.32);
      --shadow2: 0 12px 28px rgba(0,0,0,.24);

      --radius: 18px;
      --radius2: 14px;

      --max: 1100px;
      --navH: 74px;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    html{ scroll-behavior:smooth; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--text);
      background:
        radial-gradient(1200px 700px at 15% -10%, rgba(245,200,75,.12), transparent 55%),
        radial-gradient(1100px 600px at 110% 0%, rgba(30,96,255,.38), transparent 55%),
        radial-gradient(900px 500px at 50% 115%, rgba(11,61,145,.24), transparent 52%),
        linear-gradient(180deg, var(--bg), var(--bg2));
    }
    a{ color:inherit; text-decoration:none; }
    .wrap{ max-width:var(--max); margin:0 auto; padding:0 16px; }

    /* ===== NAV ===== */
    .nav{
      position: sticky; top:0; z-index:50;
      height: var(--navH);
      display:flex; align-items:center;
      backdrop-filter: blur(12px);
      background: rgba(8, 28, 66, .68);
      border-bottom: 1px solid rgba(255,255,255,.12);
    }
    .navInner{ display:flex; align-items:center; justify-content:space-between; gap:12px; }
    .brand{ display:flex; align-items:center; gap:12px; min-width: 200px; }
    .logo{
      width:44px; height:44px; border-radius:14px;
      background:
        radial-gradient(120% 120% at 20% 0%, rgba(245,200,75,.26), transparent 55%),
        linear-gradient(135deg, rgba(255,255,255,.18), rgba(255,255,255,.06));
      border: 1px solid rgba(255,255,255,.18);
      box-shadow: 0 14px 26px rgba(0,0,0,.30);
      overflow:hidden;
      display:flex; align-items:center; justify-content:center;
      flex: 0 0 auto;
    }
    .logo img{ width:100%; height:100%; object-fit:cover; display:block; }
    .brandTitle{ display:flex; flex-direction:column; line-height:1.05; }
    .brandTitle .name{
      font-weight: 1000;
      letter-spacing: .2px;
      font-size: 15px;
      color: rgba(255,255,255,.95);
    }
    .brandTitle .tag{
      font-size: 12px;
      color: rgba(255,255,255,.72);
      font-weight: 850;
    }
    .navLinks{ display:flex; align-items:center; gap:8px; }
    .navLinks a{
      font-weight: 950;
      font-size: 13px;
      color: rgba(255,255,255,.84);
      padding: 10px 10px;
      border-radius: 12px;
      transition: transform .15s ease, background .15s ease, color .15s ease, box-shadow .15s ease;
      white-space:nowrap;
    }
    .navLinks a:hover{
      background: rgba(255,255,255,.10);
      color: rgba(255,255,255,.96);
      transform: translateY(-1px);
      box-shadow: 0 10px 18px rgba(0,0,0,.25);
    }
    .navLinks a.active{
      background:
        radial-gradient(120% 120% at 20% 0%, rgba(245,200,75,.14), transparent 60%),
        rgba(255,255,255,.10);
      border: 1px solid rgba(255,255,255,.14);
    }

    @keyframes glowPulse{
      0%   { box-shadow: 0 0 0 0 rgba(30,96,255,.45), 0 16px 30px rgba(0,0,0,.26); }
      60%  { box-shadow: 0 0 0 12px rgba(30,96,255,0), 0 18px 34px rgba(0,0,0,.30); }
      100% { box-shadow: 0 0 0 0 rgba(30,96,255,0), 0 16px 30px rgba(0,0,0,.26); }
    }
    .hamburger{
      display:none;
      width:46px; height:46px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.18);
      background:
        radial-gradient(120% 120% at 20% 0%, rgba(30,96,255,.26), transparent 60%),
        rgba(255,255,255,.10);
      align-items:center; justify-content:center;
      cursor:pointer;
      animation: glowPulse 1.8s ease-in-out infinite;
    }
    .hamburger svg{ opacity:.95; }

    .drawerBack{
      position:fixed; inset:0; z-index:60;
      background: rgba(0,0,0,.55);
      display:none;
      align-items:flex-start;
      justify-content:flex-end;
    }
    .drawer{
      width:min(92vw, 360px);
      height:100%;
      background: rgba(8, 28, 66, .88);
      backdrop-filter: blur(14px);
      border-left: 1px solid rgba(255,255,255,.12);
      padding: 14px;
      box-shadow: -18px 0 44px rgba(0,0,0,.45);
    }
    .drawerHeader{
      display:flex; align-items:center; justify-content:space-between;
      gap:12px; padding:6px 2px 10px;
      color: rgba(255,255,255,.92);
    }
    .closeBtn{
      width:46px; height:46px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.10);
      cursor:pointer;
      display:flex; align-items:center; justify-content:center;
      box-shadow: 0 14px 24px rgba(0,0,0,.30);
    }
    .drawerLinks{
      display:flex; flex-direction:column; gap:8px;
      padding-top: 6px;
    }
    .drawerLinks a{
      padding: 12px 12px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.08);
      font-weight: 950;
      color: rgba(255,255,255,.90);
    }

    /* ===== HERO ===== */
    .hero{ padding: 22px 0 10px; }
    .heroGrid{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap: 14px;
      align-items: stretch;
    }
    .heroCard{
      border-radius: var(--radius);
      background:
        radial-gradient(120% 120% at 20% 0%, rgba(245,200,75,.12), transparent 60%),
        rgba(255,255,255,.10);
      border: 1px solid rgba(255,255,255,.14);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }
    .heroCard::before{
      content:"";
      position:absolute; inset:-2px;
      background:
        radial-gradient(900px 280px at 0% 0%, rgba(30,96,255,.42), transparent 60%),
        radial-gradient(600px 260px at 100% 0%, rgba(245,200,75,.14), transparent 55%);
      opacity:.95;
      pointer-events:none;
    }
    .heroPad{ position:relative; padding: 18px 18px 16px; }
    .heroTitle{
      font-weight: 1000;
      font-size: 28px;
      line-height: 1.05;
      margin: 2px 0 6px;
      letter-spacing: .2px;
      color: rgba(255,255,255,.96);
    }
    .heroSub{
      margin:0;
      color: rgba(255,255,255,.78);
      font-weight: 850;
      line-height:1.35;
      font-size: 13.5px;
      max-width: 55ch;
    }

    @keyframes alertPulse{
      0%   { box-shadow: 0 0 0 0 rgba(30,96,255,.35), 0 16px 30px rgba(0,0,0,.22); }
      55%  { box-shadow: 0 0 0 14px rgba(30,96,255,0), 0 18px 34px rgba(0,0,0,.26); }
      100% { box-shadow: 0 0 0 0 rgba(30,96,255,0), 0 16px 30px rgba(0,0,0,.22); }
    }
    .alert{
      margin-top: 14px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.85);
      background: rgba(255,255,255,.96);
      padding: 12px 14px;
      display:flex;
      align-items:center;
      justify-content:center;
      text-align:center;
      animation: alertPulse 2.1s ease-in-out infinite;
    }
    .alert p{
      margin:0;
      color: rgba(8, 28, 66, .92);
      font-weight: 1000;
      letter-spacing: .2px;
      line-height: 1.25;
    }

    /* ===== QUICK ACTIONS ===== */
    .quickCard{
      border-radius: var(--radius);
      background: rgba(255,255,255,.10);
      border: 1px solid rgba(255,255,255,.14);
      box-shadow: var(--shadow2);
      overflow:hidden;
    }
    .quickPad{ padding: 14px; }
    .quickTitle{
      font-weight: 1000;
      margin: 0 0 12px;
      font-size: 12px;
      letter-spacing: .18px;
      color: rgba(255,255,255,.78);
      text-transform: uppercase;
      text-align:center;
    }
    .qaGrid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
    }
    @keyframes qaGlow{
      0%   { box-shadow: 0 10px 20px rgba(0,0,0,.18), 0 0 0 0 rgba(30,96,255,.24); }
      60%  { box-shadow: 0 14px 26px rgba(0,0,0,.22), 0 0 0 12px rgba(30,96,255,0); }
      100% { box-shadow: 0 10px 20px rgba(0,0,0,.18), 0 0 0 0 rgba(30,96,255,0); }
    }
    .qaBtn{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding: 12px 12px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.70);
      background: rgba(255,255,255,.96);
      cursor:pointer;
      user-select:none;
      transition: transform .15s ease, box-shadow .15s ease;
      min-height: 58px;
      animation: qaGlow 2.4s ease-in-out infinite;
    }
    .qaBtn:hover{
      transform: translateY(-1px);
      box-shadow: 0 18px 32px rgba(0,0,0,.28);
      animation: none;
    }
    .qaLeft{ display:flex; flex-direction:column; gap:2px; min-width: 0; }
    .qaLabel{
      font-weight: 1000;
      font-size: 13px;
      color: rgba(8, 28, 66, .92);
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      text-align:left;
    }
    .qaHint{
      font-weight: 850;
      font-size: 11.5px;
      color: rgba(8, 28, 66, .62);
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      text-align:left;
    }
    .qaIcon{
      width:36px; height:36px;
      border-radius: 12px;
      display:flex; align-items:center; justify-content:center;
      border: 1px solid rgba(8, 28, 66, .14);
      background:
        radial-gradient(120% 120% at 20% 0%, rgba(30,96,255,.20), transparent 60%),
        rgba(255,255,255,.85);
      color: rgba(8, 28, 66, .90);
      flex: 0 0 auto;
    }

    /* ===== SECTIONS ===== */
    main{ padding: 10px 0 40px; }
    section{ scroll-margin-top: calc(var(--navH) + 14px); }
    .sectionHead{
      display:flex; align-items:flex-end; justify-content:space-between;
      gap:10px;
      padding: 16px 0 10px;
      margin-top: 14px;
      border-bottom: 1px solid rgba(255,255,255,.14);
    }
    .sectionHead h2{
      margin:0;
      font-size: 17px;
      font-weight: 1000;
      letter-spacing: .2px;
      color: rgba(255,255,255,.95);
    }
    .sectionHead .muted{
      margin:0;
      font-size: 12.5px;
      font-weight: 850;
      color: rgba(255,255,255,.72);
    }

    .grid2{ display:grid; grid-template-columns: 1fr 1fr; gap: 14px; }

    .card{
      border-radius: var(--radius);
      background: rgba(255,255,255,.10);
      border: 1px solid rgba(255,255,255,.14);
      box-shadow: var(--shadow2);
      overflow:hidden;
    }
    .cardPad{ padding: 14px; }
    .cardTitle{
      margin:0 0 6px;
      font-weight: 1000;
      letter-spacing: .15px;
      font-size: 14px;
      color: rgba(255,255,255,.94);
      text-align:center; /* center titles */
    }
    .cardText{
      margin:0;
      color: rgba(255,255,255,.80);
      font-weight: 800;
      line-height: 1.45;
      font-size: 13px;
      white-space: pre-wrap;
      text-align:center; /* center notes/text */
    }
    .metaRow{ display:flex; flex-wrap:wrap; gap:8px; margin-top: 10px; justify-content:center; }
    .pill{
      display:inline-flex; align-items:center;
      padding: 7px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.08);
      font-weight: 950;
      font-size: 12px;
      color: rgba(255,255,255,.82);
    }
    .cardActions{ display:flex; flex-wrap:wrap; gap:10px; padding-top: 10px; justify-content:center; }
    .linkBtn{
      display:inline-flex; align-items:center; justify-content:center;
      gap:10px;
      padding: 10px 12px;
      border-radius: 14px;
      border: 1px solid rgba(245,200,75,.32);
      background:
        radial-gradient(120% 120% at 20% 0%, rgba(245,200,75,.20), transparent 60%),
        rgba(255,255,255,.08);
      font-weight: 1000;
      font-size: 13px;
      cursor:pointer;
      transition: transform .15s ease, box-shadow .15s ease, background .15s ease;
      color: rgba(255,255,255,.92);
    }
    .linkBtn:hover{
      transform: translateY(-1px);
      box-shadow: 0 18px 32px rgba(0,0,0,.32);
      background:
        radial-gradient(120% 120% at 20% 0%, rgba(245,200,75,.26), transparent 62%),
        rgba(255,255,255,.10);
    }

    /* ===== SLIDESHOW ===== */
    .slider{
      position:relative;
      border-radius: var(--radius);
      overflow:hidden;
      background: rgba(0,0,0,.45);
      border: 1px solid rgba(255,255,255,.12);
      box-shadow: var(--shadow);
      min-height: 240px;
    }
    .slide{
      position:absolute; inset:0;
      opacity:0;
      transition: opacity .6s ease;
      display:flex; align-items:stretch; justify-content:stretch;
      cursor:pointer;
    }
    .slide.active{ opacity:1; }
    .slide img{
      width:100%; height:100%;
      object-fit:cover;
      display:block;
      filter: saturate(1.08) contrast(1.08);
    }
    .slideCap{
      position:absolute; left:14px; right:14px; bottom:14px;
      padding: 10px 12px;
      border-radius: 14px;
      background: rgba(8, 28, 66, .72);
      border: 1px solid rgba(255,255,255,.14);
      backdrop-filter: blur(12px);
      color: rgba(255,255,255,.92);
      font-weight: 950;
      font-size: 13px;
      box-shadow: 0 16px 28px rgba(0,0,0,.30);
      text-align:center;
    }
    .dots{
      position:absolute; top: 12px; right: 12px;
      display:flex; gap:7px;
      padding: 8px;
      border-radius: 999px;
      background: rgba(8, 28, 66, .55);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,.14);
    }
    .dotBtn{
      width:10px; height:10px;
      border-radius:999px;
      border: 1px solid rgba(255,255,255,.28);
      background: rgba(255,255,255,.40);
      cursor:pointer;
    }
    .dotBtn.active{
      background: var(--gold);
      border-color: rgba(245,200,75,.70);
      box-shadow: 0 0 0 4px rgba(245,200,75,.18);
    }

    /* ===== SCHEDULE BLOCKS (already centered) ===== */
    .schedWrap{ display:flex; flex-direction:column; gap: 14px; }
    .schedFieldCard{
      border-radius: var(--radius);
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.10);
      box-shadow: var(--shadow2);
      overflow:hidden;
    }
    .schedFieldHdr{
      padding: 12px 14px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      border-bottom: 1px solid rgba(255,255,255,.14);
      background:
        radial-gradient(120% 120% at 20% 0%, rgba(245,200,75,.14), transparent 60%),
        rgba(255,255,255,.08);
    }
    .schedFieldName{
      font-weight: 1000;
      color: rgba(255,255,255,.95);
      letter-spacing: .2px;
    }
    .schedRange{
      font-weight: 900;
      font-size: 12px;
      color: rgba(255,255,255,.74);
      white-space:nowrap;
    }
    .tableScroll{
      overflow-x:auto;
      -webkit-overflow-scrolling: touch;
      background: rgba(0,0,0,.08);
    }
    .timeTable{
      width:100%;
      border-collapse: separate;
      border-spacing: 0;
      min-width: 760px;
    }
    .timeTable th,
    .timeTable td{
      border-right: 1px solid rgba(255,255,255,.10);
      border-bottom: 1px solid rgba(255,255,255,.10);
      padding: 10px 10px;
      font-weight: 900;
      font-size: 12.5px;
      color: rgba(255,255,255,.86);
      background: rgba(255,255,255,.05);
      vertical-align: middle;
      text-align: center;
      white-space:nowrap;
    }
    .timeTable th{
      position: sticky;
      top: 0;
      z-index: 1;
      background:
        radial-gradient(120% 120% at 20% 0%, rgba(30,96,255,.22), transparent 60%),
        rgba(8, 28, 66, .92);
      color: rgba(255,255,255,.90);
      font-weight: 1000;
    }
    .timeTable .dayCell{
      text-align: left;
      font-weight: 1000;
      background:
        radial-gradient(120% 120% at 20% 0%, rgba(245,200,75,.10), transparent 60%),
        rgba(8, 28, 66, .82);
      color: rgba(255,255,255,.92);
      min-width: 120px;
      position: sticky;
      left: 0;
      z-index: 2;
      border-right: 1px solid rgba(255,255,255,.14);
    }
    .slotCell{ background: rgba(255,255,255,.05); min-width: 86px; }
    .block{
      background: rgba(255,255,255,.96);
      color: rgba(8, 28, 66, .94);
      border: 1px solid rgba(255,255,255,.78);
      border-radius: 14px;
      padding: 8px 10px;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      box-shadow: 0 10px 18px rgba(0,0,0,.22);
      min-height: 44px;
      line-height:1.15;
      text-align:center;
    }
    .block small{
      display:block;
      margin-top: 3px;
      font-size: 11px;
      font-weight: 900;
      color: rgba(8,28,66,.62);
    }

    /* ===== SPONSORS ===== */
    .sponsorGrid{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 12px;
    }
    .sponsor{
      border-radius: 22px;
      border: 1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.10);
      box-shadow: var(--shadow2);
      overflow:hidden;
      cursor:pointer;
      transition: transform .15s ease, box-shadow .15s ease, background .15s ease;
      aspect-ratio: 1 / 1;
      position:relative;
    }
    .sponsor:hover{
      transform: translateY(-1px);
      box-shadow: 0 22px 36px rgba(0,0,0,.34);
      background: rgba(255,255,255,.12);
    }
    .sponsorImg{
      position:absolute; inset:0;
      width:100%; height:100%;
      object-fit:cover;
      display:block;
      filter: saturate(1.05) contrast(1.05);
    }
    .sponsorNoImg{
      position:absolute; inset:0;
      display:flex; align-items:center; justify-content:center;
      padding: 14px;
      text-align:center;
      font-weight: 1000;
      color: rgba(255,255,255,.92);
      background:
        radial-gradient(120% 120% at 20% 0%, rgba(30,96,255,.22), transparent 60%),
        rgba(255,255,255,.08);
    }
    .sponsorOverlay{
      position:absolute; left:10px; right:10px; bottom:10px;
      padding: 10px 12px;
      border-radius: 16px;
      background: rgba(8, 28, 66, .70);
      border: 1px solid rgba(255,255,255,.16);
      backdrop-filter: blur(10px);
      box-shadow: 0 16px 28px rgba(0,0,0,.30);
    }
    .sponsorOverlay .nm{
      margin:0;
      font-weight: 1000;
      font-size: 13px;
      color: rgba(255,255,255,.95);
      line-height:1.15;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      text-align:center;
    }
    .sponsorOverlay .tr{
      margin:5px 0 0;
      font-weight: 900;
      font-size: 12px;
      color: rgba(255,255,255,.78);
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      text-align:center;
    }

    /* ===== CONTACT ===== */
    .contactGrid{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 12px;
      margin-top: 14px;
    }
    .contactMini{
      border-radius: 22px;
      border: 1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.10);
      box-shadow: var(--shadow2);
      overflow:hidden;
      position:relative;
      padding: 14px;
      aspect-ratio: 1 / 1;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
      gap: 10px;
    }
    .contactMini::before{
      content:"";
      position:absolute; inset:-2px;
      background:
        radial-gradient(700px 220px at 0% 0%, rgba(30,96,255,.24), transparent 60%),
        radial-gradient(600px 220px at 100% 0%, rgba(245,200,75,.10), transparent 60%);
      opacity:.9;
      pointer-events:none;
    }
    .contactMini > *{ position:relative; }
    .cRole{
      margin:0;
      font-weight: 1000;
      letter-spacing: .15px;
      color: rgba(255,255,255,.94);
      font-size: 14px;
      line-height:1.1;
      text-align:center;
    }
    .cInfo{
      display:flex;
      flex-direction:column;
      gap: 6px;
      min-height: 0;
      text-align:center;
    }
    .cLine{
      margin:0;
      font-weight: 850;
      color: rgba(255,255,255,.84);
      font-size: 13px;
      line-height: 1.25;
      word-break: break-word;
      text-align:center;
    }

    /* ===== MODAL ===== */
    .modalBack{
      position:fixed; inset:0; z-index:80;
      background: rgba(0,0,0,.62);
      display:none;
      align-items:center; justify-content:center;
      padding: 14px;
    }
    .modal{
      width:min(980px, 96vw);
      height:min(86vh, 780px);
      border-radius: 20px;
      background: rgba(8, 28, 66, .88);
      backdrop-filter: blur(14px);
      border: 1px solid rgba(255,255,255,.14);
      box-shadow: 0 30px 70px rgba(0,0,0,.50);
      overflow:hidden;
      display:flex; flex-direction:column;
    }
    .modalTop{
      padding: 10px 12px;
      border-bottom: 1px solid rgba(255,255,255,.14);
      display:flex; align-items:center; justify-content:space-between;
      gap:10px;
      background:
        radial-gradient(120% 120% at 20% 0%, rgba(245,200,75,.12), transparent 60%),
        rgba(255,255,255,.08);
    }
    .modalTitle{
      font-weight: 1000;
      font-size: 13px;
      margin:0;
      color: rgba(255,255,255,.92);
    }
    .modalClose{
      width:46px; height:46px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.10);
      cursor:pointer;
      display:flex; align-items:center; justify-content:center;
    }
    .modalBody{
      flex:1;
      padding: 10px;
      display:flex;
      align-items:center;
      justify-content:center;
      background: rgba(0,0,0,.12);
    }
    .modalBody iframe{
      width:100%;
      height:100%;
      border: 0;
      border-radius: 16px;
      background:#fff;
      box-shadow: var(--shadow2);
    }
    .modalBody img{
      max-width:100%;
      max-height:100%;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.14);
      box-shadow: var(--shadow2);
      background:#fff;
    }

    footer{
      padding: 18px 0 26px;
      color: rgba(255,255,255,.60);
      font-weight: 850;
      font-size: 12px;
      text-align:center;
    }

    @media (max-width: 920px){
      .heroGrid{ grid-template-columns: 1fr; }
    }
    @media (max-width: 860px){
      .navLinks{ display:none; }
      .hamburger{ display:flex; }
      .grid2{ grid-template-columns: 1fr; }
      .sponsorGrid{ grid-template-columns: 1fr 1fr; }
      .contactGrid{ grid-template-columns: 1fr 1fr; }
    }
    @media (max-width: 420px){
      .contactGrid{ grid-template-columns: 1fr 1fr; }
    }
  </style>
</head>

<body>
  <div class="nav">
    <div class="wrap navInner">
      <div class="brand">
        <div class="logo" id="logoBox" title="League Logo"></div>
        <div class="brandTitle">
          <div class="name" id="leagueNameTop">Stroud Little League Baseball</div>
          <div class="tag" id="leagueTag">Stroud Tigers • Official League Hub</div>
        </div>
      </div>

      <div class="navLinks" id="navLinks"></div>

      <div class="hamburger" id="hamburger" aria-label="Open menu">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
          <path d="M4 7h16M4 12h16M4 17h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </div>
    </div>
  </div>

  <div class="drawerBack" id="drawerBack">
    <div class="drawer" role="dialog" aria-modal="true" aria-label="Menu">
      <div class="drawerHeader">
        <div style="font-weight:1000;">Menu</div>
        <div class="closeBtn" id="drawerClose" aria-label="Close menu">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
            <path d="M6 6l12 12M18 6L6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </div>
      </div>
      <div class="drawerLinks" id="drawerLinks"></div>
    </div>
  </div>

  <div class="modalBack" id="modalBack">
    <div class="modal">
      <div class="modalTop">
        <p class="modalTitle" id="modalTitle"></p>
        <div class="modalClose" id="modalClose" aria-label="Close viewer">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
            <path d="M6 6l12 12M18 6L6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </div>
      </div>
      <div class="modalBody" id="modalBody"></div>
    </div>
  </div>

  <header class="hero">
    <div class="wrap heroGrid">
      <div class="heroCard">
        <div class="heroPad">
          <h1 class="heroTitle" id="leagueNameHero">Stroud Little League Baseball</h1>
          <p class="heroSub" id="heroSub">A Tradition of Excellence.</p>
          <div id="alertBox" style="display:none;"></div>
        </div>
      </div>

      <div class="quickCard">
        <div class="quickPad">
          <div class="quickTitle">Quick Actions</div>
          <div class="qaGrid" id="quickButtons"></div>
        </div>
      </div>
    </div>
  </header>

  <main class="wrap">
    <section id="home">
      <div class="sectionHead">
        <h2>Home</h2>
        <p class="muted" id="homeSub"></p>
      </div>

      <div class="grid2" style="margin-top:14px;">
        <div class="card" id="slideshowCard" style="display:none;">
          <div class="cardPad" style="padding:12px;">
            <div class="slider" id="slider"></div>
          </div>
        </div>

        <div class="card" id="announcementsCard" style="display:none;">
          <div class="cardPad">
            <p class="cardTitle" style="margin-bottom:10px;">Announcements</p>
            <div id="announcementsList"></div>
          </div>
        </div>
      </div>
    </section>

    <section id="schedule">
      <div class="sectionHead">
        <h2>Schedule</h2>
        <p class="muted" id="scheduleSub"></p>
      </div>

      <div class="grid2" style="margin-top:14px;">
        <div class="card" id="fieldScheduleCard" style="display:none;">
          <div class="cardPad">
            <p class="cardTitle" style="margin-bottom:10px;">Field Schedule</p>
            <div id="fieldSchedule"></div>
          </div>
        </div>

        <div class="card" id="eventsCard" style="display:none;">
          <div class="cardPad">
            <p class="cardTitle" style="margin-bottom:10px;">Events</p>
            <div id="eventsList"></div>
          </div>
        </div>
      </div>
    </section>

    <section id="fields">
      <div class="sectionHead">
        <h2>Fields & Directions</h2>
        <p class="muted"></p>
      </div>
      <div id="fieldsList" class="grid2" style="margin-top:14px;"></div>
    </section>

    <section id="rules">
      <div class="sectionHead">
        <h2>Rules & League Info</h2>
        <p class="muted"></p>
      </div>
      <div id="rulesList" class="grid2" style="margin-top:14px;"></div>
    </section>

    <!-- REPLACED: Forms -> Meeting Minutes -->
    <section id="minutes">
      <div class="sectionHead">
        <h2>Meeting Minutes</h2>
        <p class="muted"></p>
      </div>
      <div id="minutesList" class="grid2" style="margin-top:14px;"></div>
    </section>

    <section id="sponsors">
      <div class="sectionHead">
        <h2>Sponsors</h2>
        <p class="muted"></p>
      </div>
      <div id="sponsorsList" class="sponsorGrid" style="margin-top:14px;"></div>
    </section>

    <section id="contact">
      <div class="sectionHead">
        <h2>Contact</h2>
        <p class="muted"></p>
      </div>
      <div id="contactList" class="contactGrid"></div>
    </section>

    <section id="links">
      <div class="sectionHead">
        <h2>Links</h2>
        <p class="muted"></p>
      </div>
      <div id="linksList" class="grid2" style="margin-top:14px;"></div>
    </section>

    <footer>
      <div id="footerText"></div>
    </footer>
  </main>

  <script>
    /********************
     * EDIT THIS ONLY
     ********************/
    const SHEET_ID = "1-jWY-lcFYv9UEwoD5x5oMhO-k_HOoSJREM2bHfAkPQY";

    const $ = (id) => document.getElementById(id);

    function clean(v){
      if (v === null || v === undefined) return "";
      return String(v).trim();
    }
    function isTrue(v){
      const s = clean(v).toLowerCase();
      return s === "true" || s === "yes" || s === "1";
    }
    function safeUrl(u){
      const s = clean(u);
      if (!s) return "";
      return s;
    }

    function parseGvizDate(v){
      if (!v) return null;
      if (v instanceof Date && !isNaN(v.getTime())) return v;

      const s = clean(v);
      const m = s.match(/^Date\((\d+),(\d+),(\d+)(?:,(\d+),(\d+),(\d+))?\)$/);
      if (m){
        const Y = parseInt(m[1],10);
        const M = parseInt(m[2],10);
        const D = parseInt(m[3],10);
        const hh = parseInt(m[4] || "0",10);
        const mm = parseInt(m[5] || "0",10);
        const ss = parseInt(m[6] || "0",10);
        const d = new Date(Y, M, D, hh, mm, ss);
        return isNaN(d.getTime()) ? null : d;
      }

      const d2 = new Date(s);
      if (!isNaN(d2.getTime())) return d2;

      return null;
    }

    async function fetchSheet(sheetName){
      const url = `https://docs.google.com/spreadsheets/d/${SHEET_ID}/gviz/tq?sheet=${encodeURIComponent(sheetName)}&tq=${encodeURIComponent("select *")}`;
      const res = await fetch(url, { cache: "no-store" });
      const text = await res.text();
      const jsonText = text.substring(text.indexOf("{"), text.lastIndexOf("}") + 1);
      const data = JSON.parse(jsonText);
      const table = data.table;

      const headers = (table.cols || []).map(c => (c && c.label) ? c.label : "");
      const rows = (table.rows || []).map(r => {
        const obj = {};
        (r.c || []).forEach((cell, i) => {
          const key = headers[i] || `col_${i}`;
          if (cell && cell.f !== undefined && cell.f !== null && String(cell.f).trim() !== ""){
            obj[key] = cell.f;
          } else if (cell && cell.v !== undefined && cell.v !== null){
            obj[key] = cell.v;
          } else {
            obj[key] = "";
          }
        });
        return obj;
      });

      return { headers, rows };
    }

    function openModal(title, type, url){
      const u = safeUrl(url);
      if (!u) return;

      $("modalTitle").textContent = clean(title) || "Viewer";
      const body = $("modalBody");
      body.innerHTML = "";

      const t = clean(type).toUpperCase();
      if (t === "IMAGE"){
        const img = document.createElement("img");
        img.alt = clean(title) || "Image";
        img.src = u;
        body.appendChild(img);
      } else {
        const iframe = document.createElement("iframe");
        iframe.src = u;
        iframe.title = clean(title) || "Document";
        body.appendChild(iframe);
      }

      $("modalBack").style.display = "flex";
      document.body.style.overflow = "hidden";
    }
    function closeModal(){
      $("modalBack").style.display = "none";
      $("modalBody").innerHTML = "";
      document.body.style.overflow = "";
    }

    /* ===== NAV ===== */
    const SECTIONS = [
      { id:"home", label:"Home" },
      { id:"schedule", label:"Schedule" },
      { id:"fields", label:"Fields" },
      { id:"rules", label:"Rules" },
      { id:"minutes", label:"Meeting Minutes" },
      { id:"sponsors", label:"Sponsors" },
      { id:"contact", label:"Contact" },
      { id:"links", label:"Links" },
    ];

    function buildNav(){
      const nav = $("navLinks");
      const drawer = $("drawerLinks");
      nav.innerHTML = "";
      drawer.innerHTML = "";

      SECTIONS.forEach(s => {
        const a = document.createElement("a");
        a.href = `#${s.id}`;
        a.textContent = s.label;
        a.dataset.target = s.id;
        nav.appendChild(a);

        const b = document.createElement("a");
        b.href = `#${s.id}`;
        b.textContent = s.label;
        b.dataset.target = s.id;
        b.addEventListener("click", () => closeDrawer());
        drawer.appendChild(b);
      });
    }

    function setActiveNav(target){
      const links = document.querySelectorAll('.navLinks a');
      links.forEach(a => a.classList.toggle("active", a.dataset.target === target));
    }

    function observeSections(){
      const els = SECTIONS.map(s => document.getElementById(s.id)).filter(Boolean);
      const io = new IntersectionObserver((entries) => {
        const visible = entries
          .filter(e => e.isIntersecting)
          .sort((a,b) => (b.intersectionRatio - a.intersectionRatio))[0];
        if (visible && visible.target && visible.target.id){
          setActiveNav(visible.target.id);
        }
      }, { root: null, threshold: [0.15, 0.25, 0.35, 0.5, 0.65] });

      els.forEach(el => io.observe(el));
    }

    function scrollToHash(){
      const id = (location.hash || "#home").replace("#","");
      const el = document.getElementById(id);
      if (el){
        el.scrollIntoView({ behavior:"smooth", block:"start" });
        setActiveNav(id);
      } else {
        setActiveNav("home");
      }
    }

    function openDrawer(){ $("drawerBack").style.display = "flex"; document.body.style.overflow="hidden"; }
    function closeDrawer(){ $("drawerBack").style.display = "none"; document.body.style.overflow=""; }

    function makeCard({ title, text, pills = [], actions = [] }){
      const card = document.createElement("div");
      card.className = "card";
      const pad = document.createElement("div");
      pad.className = "cardPad";

      if (clean(title)){
        const h = document.createElement("p");
        h.className = "cardTitle";
        h.textContent = title;
        pad.appendChild(h);
      }

      if (clean(text)){
        const p = document.createElement("p");
        p.className = "cardText";
        p.textContent = text;
        pad.appendChild(p);
      }

      if (Array.isArray(pills) && pills.length){
        const meta = document.createElement("div");
        meta.className = "metaRow";
        pills.filter(x => clean(x)).forEach(x => {
          const pill = document.createElement("div");
          pill.className = "pill";
          pill.textContent = x;
          meta.appendChild(pill);
        });
        if (meta.childNodes.length) pad.appendChild(meta);
      }

      if (Array.isArray(actions) && actions.length){
        const row = document.createElement("div");
        row.className = "cardActions";
        actions.forEach(act => {
          if (!clean(act.label) || !safeUrl(act.url)) return;
          const btn = document.createElement("button");
          btn.className = "linkBtn";
          btn.type = "button";
          btn.textContent = act.label;
          btn.addEventListener("click", () => {
            if (act.mode === "modal") openModal(act.label, act.type || "PDF", act.url);
            else window.open(act.url, "_blank", "noopener");
          });
          row.appendChild(btn);
        });
        if (row.childNodes.length) pad.appendChild(row);
      }

      card.appendChild(pad);
      return card;
    }

    /* ===== SLIDESHOW (4 sec) ===== */
    let slideTimer = null;
    function renderSlideshow(rows){
      const active = rows.filter(r => isTrue(r.active) && safeUrl(r.image_url));
      if (!active.length){
        $("slideshowCard").style.display = "none";
        return;
      }

      $("slideshowCard").style.display = "";
      const slider = $("slider");
      slider.innerHTML = "";

      const dots = document.createElement("div");
      dots.className = "dots";
      slider.appendChild(dots);

      let idx = 0;

      const slides = active.map((r, i) => {
        const s = document.createElement("div");
        s.className = "slide" + (i === 0 ? " active" : "");

        const img = document.createElement("img");
        img.src = r.image_url;
        img.alt = clean(r.caption) || "Slideshow image";
        s.appendChild(img);

        const cap = clean(r.caption);
        if (cap){
          const c = document.createElement("div");
          c.className = "slideCap";
          c.textContent = cap;
          s.appendChild(c);
        }

        const link = safeUrl(r.link_url);
        if (link){
          s.addEventListener("click", () => window.open(link, "_blank", "noopener"));
        }

        slider.appendChild(s);

        const d = document.createElement("div");
        d.className = "dotBtn" + (i === 0 ? " active" : "");
        d.addEventListener("click", (e) => {
          e.stopPropagation();
          setSlide(i);
          resetTimer();
        });
        dots.appendChild(d);

        return s;
      });

      function setSlide(i){
        idx = i;
        slides.forEach((el, k) => el.classList.toggle("active", k === idx));
        [...dots.children].forEach((el, k) => el.classList.toggle("active", k === idx));
      }

      function next(){
        idx = (idx + 1) % slides.length;
        setSlide(idx);
      }

      function resetTimer(){
        if (slideTimer) clearInterval(slideTimer);
        slideTimer = setInterval(next, 4000); // ✅ 4 sec
      }

      resetTimer();
    }

    function applyTheme(cfg){
      const primary = safeUrl(cfg.primary_color) || getComputedStyle(document.documentElement).getPropertyValue("--royal").trim();
      document.documentElement.style.setProperty("--royal", primary);

      const name = clean(cfg.league_name);
      if (name){
        document.title = name;
        $("leagueNameTop").textContent = name;
        $("leagueNameHero").textContent = name;
      }

      const logoUrl = safeUrl(cfg.logo_url);
      const logoBox = $("logoBox");
      logoBox.innerHTML = "";
      if (logoUrl){
        const img = document.createElement("img");
        img.src = logoUrl;
        img.alt = name || "Logo";
        logoBox.appendChild(img);
      }

      const enabled = isTrue(cfg.alerts_enabled);
      const text = clean(cfg.alerts_text);
      const alertHost = $("alertBox");
      alertHost.innerHTML = "";

      if (enabled && text){
        const a = document.createElement("div");
        a.className = "alert";
        const p = document.createElement("p");
        p.textContent = text;
        a.appendChild(p);
        alertHost.appendChild(a);
        alertHost.style.display = "";

        const hideDate = clean(cfg.alerts_hide_date);
        if (hideDate){
          const d = new Date(hideDate + "T23:59:59");
          if (!isNaN(d.getTime()) && Date.now() > d.getTime()){
            alertHost.style.display = "none";
          }
        }

        const mins = parseFloat(clean(cfg.alerts_auto_hide_minutes));
        if (!isNaN(mins) && mins > 0){
          setTimeout(() => { alertHost.style.display = "none"; }, mins * 60 * 1000);
        }
      } else {
        alertHost.style.display = "none";
      }

      const year = new Date().getFullYear();
      $("footerText").textContent = `${name || "League Hub"} • © ${year}`;
    }

    function renderQuickButtons(cfg){
      const host = $("quickButtons");
      host.innerHTML = "";

      const icon = (kind) => {
        if (kind === "megaphone") return `
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
            <path d="M3 11v2a2 2 0 0 0 2 2h2l4 4v-6l10-4V7l-10 4V5L9 9H5a2 2 0 0 0-2 2Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
          </svg>`;
        if (kind === "calendar") return `
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
            <path d="M7 3v3M17 3v3M4 8h16M6 6h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>`;
        if (kind === "pin") return `
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
            <path d="M12 21s7-4.5 7-11a7 7 0 1 0-14 0c0 6.5 7 11 7 11Z" stroke="currentColor" stroke-width="2"/>
            <path d="M12 10.5a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" stroke="currentColor" stroke-width="2"/>
          </svg>`;
        if (kind === "file") return `
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
            <path d="M14 2H7a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V8l-5-6Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
            <path d="M14 2v6h6" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
          </svg>`;
        if (kind === "users") return `
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
            <path d="M17 21v-2a4 4 0 0 0-4-4H7a4 4 0 0 0-4 4v2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            <path d="M10 11a4 4 0 1 0 0-8 4 4 0 0 0 0 8Z" stroke="currentColor" stroke-width="2"/>
            <path d="M21 21v-2a4 4 0 0 0-3-3.87" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            <path d="M16 3.13a4 4 0 0 1 0 7.75" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>`;
        if (kind === "link") return `
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
            <path d="M10 13a5 5 0 0 1 0-7l1-1a5 5 0 0 1 7 7l-1 1" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            <path d="M14 11a5 5 0 0 1 0 7l-1 1a5 5 0 0 1-7-7l1-1" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>`;
        return `
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
            <path d="M12 2v20M2 12h20" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>`;
      };

      const makeBtn = (label, hint, onClick, ico) => {
        const b = document.createElement("button");
        b.type = "button";
        b.className = "qaBtn";
        b.addEventListener("click", onClick);

        const left = document.createElement("div");
        left.className = "qaLeft";

        const t = document.createElement("div");
        t.className = "qaLabel";
        t.textContent = label;

        const h = document.createElement("div");
        h.className = "qaHint";
        h.textContent = hint || "";

        left.appendChild(t);
        if (clean(h.textContent)) left.appendChild(h);

        const right = document.createElement("div");
        right.className = "qaIcon";
        right.innerHTML = icon(ico);

        b.appendChild(left);
        b.appendChild(right);
        return b;
      };

      const jump = (sectionId) => {
        location.hash = "#" + sectionId;
        const el = document.getElementById(sectionId);
        if (el) el.scrollIntoView({ behavior:"smooth", block:"start" });
      };

      host.appendChild(makeBtn("Announcements", "Latest updates", () => jump("home"), "megaphone"));
      host.appendChild(makeBtn("Schedule", "Games + events", () => jump("schedule"), "calendar"));
      host.appendChild(makeBtn("Fields", "Directions", () => jump("fields"), "pin"));
      host.appendChild(makeBtn("Meeting Minutes", "Board notes", () => jump("minutes"), "file"));
      host.appendChild(makeBtn("Sponsors", "Supporters", () => jump("sponsors"), "users"));
      host.appendChild(makeBtn("Contact", "Who to reach", () => jump("contact"), "users"));

      const reg = safeUrl(cfg.registration_url);
      if (reg) host.appendChild(makeBtn("Register", "Sign ups", () => window.open(reg, "_blank", "noopener"), "calendar"));

      const fb = safeUrl(cfg.facebook_url);
      if (fb) host.appendChild(makeBtn("Facebook", "Updates & posts", () => window.open(fb, "_blank", "noopener"), "link"));
    }

    function renderAnnouncements(rows){
      const active = rows.filter(r => isTrue(r.active) && clean(r.title));
      if (!active.length){
        $("announcementsCard").style.display = "none";
        return;
      }
      $("announcementsCard").style.display = "";
      const host = $("announcementsList");
      host.innerHTML = "";

      active.forEach(r => {
        const title = clean(r.title);
        const msg = clean(r.message);
        const btnText = clean(r.button_text);
        const btnUrl = safeUrl(r.button_url);

        const actions = [];
        if (btnText && btnUrl) actions.push({ label: btnText, url: btnUrl, mode: "newtab" });

        const card = makeCard({ title, text: msg, actions });
        host.appendChild(card);
        card.style.marginTop = "12px";
      });

      const n = active.length;
      $("homeSub").textContent = n ? `${n} update${n===1?"":"s"} posted` : "";
    }

    function renderFields(rows){
      const active = rows.filter(r => isTrue(r.active) && clean(r.field_name));
      if (!active.length){
        $("fields").style.display = "none";
        return;
      }
      $("fields").style.display = "";
      const host = $("fieldsList");
      host.innerHTML = "";

      active.forEach(r => {
        const title = clean(r.field_name);
        const address = clean(r.address);
        const notes = clean(r.notes);
        const maps = safeUrl(r.google_maps_url);

        const textParts = [];
        if (address) textParts.push(address);
        if (notes) textParts.push(notes);

        const actions = [];
        if (maps) actions.push({ label: "Open in Maps", url: maps, mode: "newtab" });

        host.appendChild(makeCard({ title, text: textParts.join("\n\n"), actions }));
      });
    }

    function renderRules(rows){
      const active = rows.filter(r => isTrue(r.active) && clean(r.title) && safeUrl(r.url));
      if (!active.length){
        $("rules").style.display = "none";
        return;
      }
      $("rules").style.display = "";
      const host = $("rulesList");
      host.innerHTML = "";

      active.forEach(r => {
        const title = clean(r.title);
        const type = clean(r.type).toUpperCase();
        const url = safeUrl(r.url);
        const notes = clean(r.notes);
        const mode = (type === "PDF" || type === "IMAGE") ? "modal" : "newtab";

        host.appendChild(makeCard({
          title, text: notes,
          actions: [{ label: "Open", url, mode, type }]
        }));
      });
    }

    /* ===== MEETING MINUTES (shows notes even if url is blank) ===== */
    function renderMinutes(rows){
      const active = rows.filter(r => isTrue(r.active) && clean(r.title));
      if (!active.length){
        $("minutes").style.display = "none";
        return;
      }
      $("minutes").style.display = "";
      const host = $("minutesList");
      host.innerHTML = "";

      active.forEach(r => {
        const title = clean(r.title);
        const type = clean(r.type).toUpperCase();
        const url = safeUrl(r.url);
        const notes = clean(r.notes);

        const actions = [];
        if (url){
          const mode = (type === "PDF" || type === "IMAGE") ? "modal" : "newtab";
          actions.push({ label: "Open", url, mode, type: type || "PDF" });
        }

        host.appendChild(makeCard({
          title,
          text: notes,     /* ✅ this is your “post notes and show on site” content */
          actions
        }));
      });
    }

    function renderSponsors(rows){
      const active = rows.filter(r => isTrue(r.active) && clean(r.sponsor_name));
      if (!active.length){
        $("sponsors").style.display = "none";
        return;
      }
      $("sponsors").style.display = "";
      const host = $("sponsorsList");
      host.innerHTML = "";

      active.forEach(r => {
        const name = clean(r.sponsor_name);
        const tier = clean(r.tier);
        const logo = safeUrl(r.logo_url);
        const site = safeUrl(r.website_url);

        const box = document.createElement("div");
        box.className = "sponsor";
        box.addEventListener("click", () => { if (site) window.open(site, "_blank", "noopener"); });

        if (logo){
          const img = document.createElement("img");
          img.className = "sponsorImg";
          img.src = logo;
          img.alt = name;
          box.appendChild(img);
        } else {
          const fallback = document.createElement("div");
          fallback.className = "sponsorNoImg";
          fallback.textContent = name || "Sponsor";
          box.appendChild(fallback);
        }

        const overlay = document.createElement("div");
        overlay.className = "sponsorOverlay";

        const nm = document.createElement("p");
        nm.className = "nm";
        nm.textContent = name;
        overlay.appendChild(nm);

        if (tier){
          const tr = document.createElement("p");
          tr.className = "tr";
          tr.textContent = tier;
          overlay.appendChild(tr);
        }

        box.appendChild(overlay);
        host.appendChild(box);
      });
    }

    function renderContact(rows){
      const active = rows.filter(r => isTrue(r.active) && (clean(r.role) || clean(r.name) || clean(r.email) || clean(r.phone)));
      if (!active.length){
        $("contact").style.display = "none";
        return;
      }
      $("contact").style.display = "";
      const host = $("contactList");
      host.innerHTML = "";

      active.forEach(r => {
        const role = clean(r.role) || "Contact";
        const name = clean(r.name);
        const email = clean(r.email);
        const phone = clean(r.phone);
        const notes = clean(r.notes);

        const card = document.createElement("div");
        card.className = "contactMini";

        const h = document.createElement("p");
        h.className = "cRole";
        h.textContent = role;
        card.appendChild(h);

        const info = document.createElement("div");
        info.className = "cInfo";

        const addLine = (txt) => {
          if (!clean(txt)) return;
          const p = document.createElement("p");
          p.className = "cLine";
          p.textContent = txt;
          info.appendChild(p);
        };

        addLine(name);
        addLine(email);
        addLine(phone);
        addLine(notes);

        card.appendChild(info);
        host.appendChild(card);
      });
    }

    function renderLinks(rows, cfg){
      const active = rows.filter(r => isTrue(r.active) && clean(r.label) && safeUrl(r.url));
      const standings = safeUrl(cfg.standings_url);

      if (!active.length && !standings){
        $("links").style.display = "none";
        return;
      }
      $("links").style.display = "";
      const host = $("linksList");
      host.innerHTML = "";

      if (standings){
        host.appendChild(makeCard({
          title: "Standings",
          text: "",
          actions: [{ label: "Open Standings", url: standings, mode: "newtab" }]
        }));
      }

      active.forEach(r => {
        host.appendChild(makeCard({
          title: clean(r.label),
          text: "",
          actions: [{ label: "Open", url: safeUrl(r.url), mode: "newtab" }]
        }));
      });
    }

    /* Schedule renderer kept from your version (unchanged) */
    function timeToMinutes(v){
      const d = parseGvizDate(v);
      if (d) return d.getHours()*60 + d.getMinutes();
      const s = clean(v);
      if (!s) return NaN;
      const m = s.match(/^([01]?\d|2[0-3]):([0-5]\d)$/);
      if (m) return parseInt(m[1],10)*60 + parseInt(m[2],10);
      const m2 = s.match(/^(\d{1,2}):(\d{2})\s*(AM|PM)$/i);
      if (m2){
        let hh = parseInt(m2[1],10);
        const mm = parseInt(m2[2],10);
        const ap = m2[3].toUpperCase();
        if (ap === "PM" && hh !== 12) hh += 12;
        if (ap === "AM" && hh === 12) hh = 0;
        return hh*60 + mm;
      }
      return NaN;
    }
    function minutesToLabel(mins){
      let hh = Math.floor(mins/60);
      const mm = mins % 60;
      const ap = hh >= 12 ? "PM" : "AM";
      hh = hh % 12; if (hh === 0) hh = 12;
      return `${hh}:${String(mm).padStart(2,"0")} ${ap}`;
    }
    function renderSchedule(fieldRows, eventRows){
      const fieldActive = fieldRows.filter(r =>
        isTrue(r.active) &&
        clean(r.day_of_week) &&
        clean(r.field_name) &&
        clean(r.team_or_group)
      );

      const eventActive = eventRows.filter(r => isTrue(r.active) && clean(r.event_name) && clean(r.date));

      if (!fieldActive.length && !eventActive.length){
        $("schedule").style.display = "none";
        return;
      }
      $("schedule").style.display = "";

      if (!fieldActive.length){
        $("fieldScheduleCard").style.display = "none";
      } else {
        $("fieldScheduleCard").style.display = "";
        const host = $("fieldSchedule");
        host.innerHTML = "";

        const byField = {};
        fieldActive.forEach(r => {
          const f = clean(r.field_name);
          (byField[f] ||= []).push(r);
        });

        let allStarts = [];
        let allEnds = [];
        fieldActive.forEach(r => {
          const s = timeToMinutes(r.time_start);
          const e = timeToMinutes(r.time_end);
          if (!isNaN(s)) allStarts.push(s);
          if (!isNaN(e)) allEnds.push(e);
        });

        let minT = allStarts.length ? Math.min(...allStarts) : 17*60;
        let maxT = allEnds.length ? Math.max(...allEnds) : 21*60;

        const snapDown = (m) => Math.floor(m/30)*30;
        const snapUp = (m) => Math.ceil(m/30)*30;
        minT = snapDown(minT);
        maxT = snapUp(maxT);
        if (maxT <= minT) { minT = 17*60; maxT = 21*60; }

        const step = 30;
        const timeSlots = [];
        for (let t=minT; t<maxT; t+=step) timeSlots.push(t);

        const order = ["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];

        const wrap = document.createElement("div");
        wrap.className = "schedWrap";

        Object.keys(byField).sort().forEach(fieldName => {
          const card = document.createElement("div");
          card.className = "schedFieldCard";

          const hdr = document.createElement("div");
          hdr.className = "schedFieldHdr";

          const nm = document.createElement("div");
          nm.className = "schedFieldName";
          nm.textContent = fieldName;

          const rg = document.createElement("div");
          rg.className = "schedRange";
          rg.textContent = `${minutesToLabel(minT)} – ${minutesToLabel(maxT)}`;

          hdr.appendChild(nm);
          hdr.appendChild(rg);
          card.appendChild(hdr);

          const scroller = document.createElement("div");
          scroller.className = "tableScroll";

          const table = document.createElement("table");
          table.className = "timeTable";

          const thead = document.createElement("thead");
          const trh = document.createElement("tr");

          const th0 = document.createElement("th");
          th0.textContent = "Day";
          trh.appendChild(th0);

          timeSlots.forEach(t => {
            const th = document.createElement("th");
            th.textContent = minutesToLabel(t);
            trh.appendChild(th);
          });
          thead.appendChild(trh);
          table.appendChild(thead);

          const rowsForField = byField[fieldName];
          const byDay = {};
          rowsForField.forEach(r => {
            const d = clean(r.day_of_week);
            (byDay[d] ||= []).push(r);
          });

          const tbody = document.createElement("tbody");

          order.filter(d => byDay[d]).forEach(day => {
            const tr = document.createElement("tr");

            const dayTd = document.createElement("td");
            dayTd.className = "dayCell";
            dayTd.textContent = day;
            tr.appendChild(dayTd);

            const blocks = (byDay[day] || [])
              .map(r => {
                const s = timeToMinutes(r.time_start);
                const e = timeToMinutes(r.time_end);
                return {
                  start: isNaN(s) ? null : snapDown(s),
                  end: isNaN(e) ? null : snapUp(e),
                  team: clean(r.team_or_group),
                  note: clean(r.notes)
                };
              })
              .filter(b => b.start !== null && b.end !== null && b.end > b.start)
              .sort((a,b) => a.start - b.start);

            const blockByStart = {};
            blocks.forEach(b => { blockByStart[b.start] = b; });

            for (let t=minT; t<maxT; t+=step){
              const b = blockByStart[t];
              if (b){
                const td = document.createElement("td");
                td.className = "slotCell";
                const span = Math.max(1, Math.round((b.end - b.start)/step));
                td.colSpan = span;

                const box = document.createElement("div");
                box.className = "block";
                box.innerHTML = `<div>${b.team || ""}${b.note ? `<small>${b.note}</small>` : ""}</div>`;
                td.appendChild(box);

                tr.appendChild(td);
                t += (span-1)*step;
              } else {
                const td = document.createElement("td");
                td.className = "slotCell";
                td.innerHTML = "&nbsp;";
                tr.appendChild(td);
              }
            }

            tbody.appendChild(tr);
          });

          table.appendChild(tbody);
          scroller.appendChild(table);
          card.appendChild(scroller);
          wrap.appendChild(card);
        });

        host.appendChild(wrap);
        const uniqFields = Object.keys(byField).length;
        $("scheduleSub").textContent = `${uniqFields} field${uniqFields===1?"":"s"} listed`;
      }

      if (!eventActive.length){
        $("eventsCard").style.display = "none";
      } else {
        $("eventsCard").style.display = "";
        const host = $("eventsList");
        host.innerHTML = "";

        eventActive.forEach(r => {
          host.appendChild(makeCard({
            title: clean(r.event_name),
            text: clean(r.details),
            pills: [clean(r.date), clean(r.time), clean(r.location)].filter(Boolean)
          }));
        });

        $("scheduleSub").textContent = `${eventActive.length} event${eventActive.length===1?"":"s"} listed`;
      }
    }

    async function init(){
      buildNav();

      $("hamburger").addEventListener("click", openDrawer);
      $("drawerBack").addEventListener("click", (e) => { if (e.target === $("drawerBack")) closeDrawer(); });
      $("drawerClose").addEventListener("click", closeDrawer);

      $("modalClose").addEventListener("click", closeModal);
      $("modalBack").addEventListener("click", (e) => { if (e.target === $("modalBack")) closeModal(); });

      window.addEventListener("hashchange", () => scrollToHash());

      const [
        cfg, ann, slides, field, events, fields, rules,
        minutes, sponsors, contact, links
      ] = await Promise.all([
        fetchSheet("CONFIG").catch(() => ({rows:[] })),
        fetchSheet("ANNOUNCEMENTS").catch(() => ({rows:[] })),
        fetchSheet("SLIDESHOW").catch(() => ({rows:[] })),
        fetchSheet("FIELD_SCHEDULE").catch(() => ({rows:[] })),
        fetchSheet("EVENTS").catch(() => ({rows:[] })),
        fetchSheet("FIELDS").catch(() => ({rows:[] })),
        fetchSheet("RULES").catch(() => ({rows:[] })),
        fetchSheet("MEETING_MINUTES").catch(() => ({rows:[] })),  // ✅ new
        fetchSheet("SPONSORS").catch(() => ({rows:[] })),
        fetchSheet("CONTACT").catch(() => ({rows:[] })),
        fetchSheet("LINKS").catch(() => ({rows:[] })),
      ]);

      const cfgRow = (cfg.rows && cfg.rows[0]) ? cfg.rows[0] : {};
      applyTheme(cfgRow);
      renderQuickButtons(cfgRow);

      renderSlideshow(slides.rows || []);
      renderAnnouncements(ann.rows || []);
      renderSchedule(field.rows || [], events.rows || []);
      renderFields(fields.rows || []);
      renderRules(rules.rows || []);
      renderMinutes(minutes.rows || []);              // ✅ show notes
      renderSponsors(sponsors.rows || []);
      renderContact(contact.rows || []);
      renderLinks(links.rows || [], cfgRow);

      observeSections();
      setTimeout(scrollToHash, 50);
    }

    init();
  </script>
</body>
</html>
